<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>USC Ridesharing</title>
    <style>
        #map {
    width:100%;
    height:400px;
    background-color: grey;
  }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <div id="brum" style="background-color: pink; width: 100%; height: 100px;" onclick="ba();"></div>
    <script>
        let waypoints  = [];
        let cities = [];
        function initMap() {
            let southCarolina = {lat: 33.8361, lng: -81.1637};
            /*
            let map = new google.maps.Map(
                document.getElementById('map'), {zoom: 7, center: southCarolina}
            );
            */
            let columbia = {lat: 34.0007, lng: -81.0348};
            let charleston = {lat: 32.7765, lng: -79.9311};
            let mountPleasant = {lat: 32.8323, lng: -79.8284}; // <20 km (works)
            let johnIsland = {lat: 32.7177, lng: -80.0647}; // <20 km (works)
            let lexington = {lat: 33.9815, lng: -81.2362}; // >20 km (does not work but could work)
            let summerville = {lat: 33.0185, lng: -80.1756}; // >>20 km (does not work)
            //20 km is the limit
            //let marker1 = new google.maps.Marker({position: columbia, map: map});
            //let marker2 = new google.maps.Marker({position: charleston, map: map});
            var service = new google.maps.DistanceMatrixService();
            service.getDistanceMatrix( //using distance matrix to find distances between two points
                {
                    origins: [columbia],
                    destinations: [lexington],
                    travelMode: 'DRIVING',
                }, callback);
            
            function callback(response, status) {
                if (status == 'OK') { //if request is successful
                    var origins = response.originAddresses; //getting origin and destination addresses
                    var destinations = response.destinationAddresses;

                    for (var i = 0; i < origins.length; i++) {
                    var results = response.rows[i].elements;
                    for (var j = 0; j < results.length; j++) {
                        var element = results[j];
                        var distance = element.distance.text;
                        alert(distance); //alerting distance between two points
                        var duration = element.duration.text;
                        var from = origins[i]; //accessing address strings
                        var to = destinations[j];
                    }
                    }
                }
            }
        }
    </script>
    <script async src=""></script>
  </body>
  </html>
